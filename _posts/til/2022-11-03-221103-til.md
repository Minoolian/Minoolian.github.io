---
layout: post
title: "[TIL] 221103"
category: til
---
> ✏️ **Check Box**
>
> * [x] <label>Nginx reverse proxy 구성</label>
> * [x] <label>와일드카드 도메인</label>

* unordered toc
{:toc .large-only}

## 📌 정리
***

Nginx를 Docker 컨테이너로 올린 상황에서 궁금한점이 생겼다. 현재 도메인으로 접속하면 Docker 게이트웨이인 `172.17.0.1:8080`으로 포워딩이 되어있는데, 만약 다른 컨테이너에 같은 8080 포트를 사용하는 앱이 띄워져있다면 어떻게 해야할까하는 생각이 들었다. 물론 각 컨테이너의 IP를 사용하면 좋겠지만, 컨테이너 실행순서대로 IP가 부여되므로 고정적이지 않다는 문제가 있다.  
따라서 문제는 `docker-compose`를 통해 컨테이너의 이름을 부여하고, **부여된 이름으로 포워딩**되게끔 구성할 수 있다는 아이디어를 얻게되어서 해결할 수 있었다.

또한 여러 앱이 띄워져있을때 하나의 도메인에서 url로 구분하여 나누기보다, ***서브도메인***을 이용하여 구성하는 것을 생각하고 있기에 SSL 인증서 자체를 `*` 와일드카드 도메인으로 발급하여 Nginx에 서브도메인을 구분해서 포워딩되도록 구성할 예정이다.

Back to [[TIL] 221102](221102-til){:.heading.flip-title}
{:.read-more}